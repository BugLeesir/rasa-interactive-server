{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n  constructor(plugin, hook) {\n    var _this = this;\n    this.target = null;\n    this.targetQueue = [];\n    this.onQueue = [];\n    this.plugin = plugin;\n    this.hook = hook;\n    const defaultSettings = {};\n    if (plugin.settings) {\n      for (const id in plugin.settings) {\n        const item = plugin.settings[id];\n        defaultSettings[id] = item.defaultValue;\n      }\n    }\n    const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n    let currentSettings = Object.assign({}, defaultSettings);\n    try {\n      const raw = localStorage.getItem(localSettingsSaveId);\n      const data = JSON.parse(raw);\n      Object.assign(currentSettings, data);\n    } catch (e) {\n      // noop\n    }\n    this.fallbacks = {\n      getSettings() {\n        return currentSettings;\n      },\n      setSettings(value) {\n        try {\n          localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n        } catch (e) {\n          // noop\n        }\n        currentSettings = value;\n      },\n      now() {\n        return now();\n      }\n    };\n    if (hook) {\n      hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n        if (pluginId === this.plugin.id) {\n          this.fallbacks.setSettings(value);\n        }\n      });\n    }\n    this.proxiedOn = new Proxy({}, {\n      get: (_target, prop) => {\n        if (this.target) {\n          return this.target.on[prop];\n        } else {\n          return function () {\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n              args[_key] = arguments[_key];\n            }\n            _this.onQueue.push({\n              method: prop,\n              args\n            });\n          };\n        }\n      }\n    });\n    this.proxiedTarget = new Proxy({}, {\n      get: (_target, prop) => {\n        if (this.target) {\n          return this.target[prop];\n        } else if (prop === 'on') {\n          return this.proxiedOn;\n        } else if (Object.keys(this.fallbacks).includes(prop)) {\n          return function () {\n            for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n              args[_key2] = arguments[_key2];\n            }\n            _this.targetQueue.push({\n              method: prop,\n              args,\n              resolve: () => {}\n            });\n            return _this.fallbacks[prop](...args);\n          };\n        } else {\n          return function () {\n            for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n              args[_key3] = arguments[_key3];\n            }\n            return new Promise(resolve => {\n              _this.targetQueue.push({\n                method: prop,\n                args,\n                resolve\n              });\n            });\n          };\n        }\n      }\n    });\n  }\n  async setRealTarget(target) {\n    this.target = target;\n    for (const item of this.onQueue) {\n      this.target.on[item.method](...item.args);\n    }\n    for (const item of this.targetQueue) {\n      item.resolve(await this.target[item.method](...item.args));\n    }\n  }\n}","map":{"version":3,"names":["HOOK_PLUGIN_SETTINGS_SET","now","ApiProxy","constructor","plugin","hook","_this","target","targetQueue","onQueue","defaultSettings","settings","id","item","defaultValue","localSettingsSaveId","currentSettings","Object","assign","raw","localStorage","getItem","data","JSON","parse","e","fallbacks","getSettings","setSettings","value","setItem","stringify","on","pluginId","proxiedOn","Proxy","get","_target","prop","_len","arguments","length","args","Array","_key","push","method","proxiedTarget","keys","includes","_len2","_key2","resolve","_len3","_key3","Promise","setRealTarget"],"sources":["D:/itcast/rasa_project_front/node_modules/@vue/devtools-api/lib/esm/proxy.js"],"sourcesContent":["import { HOOK_PLUGIN_SETTINGS_SET } from './const.js';\nimport { now } from './time.js';\nexport class ApiProxy {\n    constructor(plugin, hook) {\n        this.target = null;\n        this.targetQueue = [];\n        this.onQueue = [];\n        this.plugin = plugin;\n        this.hook = hook;\n        const defaultSettings = {};\n        if (plugin.settings) {\n            for (const id in plugin.settings) {\n                const item = plugin.settings[id];\n                defaultSettings[id] = item.defaultValue;\n            }\n        }\n        const localSettingsSaveId = `__vue-devtools-plugin-settings__${plugin.id}`;\n        let currentSettings = Object.assign({}, defaultSettings);\n        try {\n            const raw = localStorage.getItem(localSettingsSaveId);\n            const data = JSON.parse(raw);\n            Object.assign(currentSettings, data);\n        }\n        catch (e) {\n            // noop\n        }\n        this.fallbacks = {\n            getSettings() {\n                return currentSettings;\n            },\n            setSettings(value) {\n                try {\n                    localStorage.setItem(localSettingsSaveId, JSON.stringify(value));\n                }\n                catch (e) {\n                    // noop\n                }\n                currentSettings = value;\n            },\n            now() {\n                return now();\n            },\n        };\n        if (hook) {\n            hook.on(HOOK_PLUGIN_SETTINGS_SET, (pluginId, value) => {\n                if (pluginId === this.plugin.id) {\n                    this.fallbacks.setSettings(value);\n                }\n            });\n        }\n        this.proxiedOn = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target.on[prop];\n                }\n                else {\n                    return (...args) => {\n                        this.onQueue.push({\n                            method: prop,\n                            args,\n                        });\n                    };\n                }\n            },\n        });\n        this.proxiedTarget = new Proxy({}, {\n            get: (_target, prop) => {\n                if (this.target) {\n                    return this.target[prop];\n                }\n                else if (prop === 'on') {\n                    return this.proxiedOn;\n                }\n                else if (Object.keys(this.fallbacks).includes(prop)) {\n                    return (...args) => {\n                        this.targetQueue.push({\n                            method: prop,\n                            args,\n                            resolve: () => { },\n                        });\n                        return this.fallbacks[prop](...args);\n                    };\n                }\n                else {\n                    return (...args) => {\n                        return new Promise(resolve => {\n                            this.targetQueue.push({\n                                method: prop,\n                                args,\n                                resolve,\n                            });\n                        });\n                    };\n                }\n            },\n        });\n    }\n    async setRealTarget(target) {\n        this.target = target;\n        for (const item of this.onQueue) {\n            this.target.on[item.method](...item.args);\n        }\n        for (const item of this.targetQueue) {\n            item.resolve(await this.target[item.method](...item.args));\n        }\n    }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}