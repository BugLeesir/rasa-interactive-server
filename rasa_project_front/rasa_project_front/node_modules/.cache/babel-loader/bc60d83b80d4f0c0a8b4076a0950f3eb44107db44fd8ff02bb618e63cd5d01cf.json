{"ast":null,"code":"import \"core-js/modules/es.typed-array.to-reversed.js\";\nimport \"core-js/modules/es.typed-array.to-sorted.js\";\nimport \"core-js/modules/es.typed-array.with.js\";\nimport \"core-js/modules/es.array.push.js\";\nimport Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\nexport default class Voronoi {\n  constructor(delaunay) {\n    let [xmin, ymin, xmax, ymax] = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0, 0, 960, 500];\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {\n      delaunay: {\n        points,\n        hull,\n        triangles\n      },\n      vectors\n    } = this;\n    let bx, by; // lazily computed barycenter of the hull\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n      if (Math.abs(ab) < 1e-9) {\n        // For a degenerate triangle, the circumcenter is at the infinity, in a\n        // direction orthogonal to the halfedge and away from the “center” of\n        // the diagram <bx, by>, defined as the hull’s barycenter.\n        if (bx === undefined) {\n          bx = by = 0;\n          for (const i of hull) bx += points[i * 2], by += points[i * 2 + 1];\n          bx /= hull.length, by /= hull.length;\n        }\n        const a = 1e9 * Math.sign((bx - x1) * ey - (by - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0,\n      p1 = h * 4;\n    let x0,\n      x1 = points[2 * h];\n    let y0,\n      y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const {\n      delaunay: {\n        halfedges,\n        inedges,\n        hull\n      },\n      circumcenters,\n      vectors\n    } = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0,\n      h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path() : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n - 2] && points[1] === points[n - 1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i - 2] || points[i + 1] !== points[i - 1]) context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {\n      delaunay: {\n        points\n      }\n    } = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon();\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] === cj[aj] && ci[ai + 1] === cj[aj + 1] && ci[(ai + 2) % li] === cj[(aj + lj - 2) % lj] && ci[(ai + 3) % li] === cj[(aj + lj - 1) % lj]) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {\n      circumcenters,\n      delaunay: {\n        inedges,\n        halfedges,\n        triangles\n      }\n    } = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {\n      vectors: V\n    } = this;\n    const v = i * 4;\n    return this._simplify(V[v] || V[v + 1] ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3]) : this._clipFinite(i, points));\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0,\n      y0,\n      x1 = points[n - 2],\n      y1 = points[n - 1];\n    let c0,\n      c1 = this._regioncode(x1, y1);\n    let e0,\n      e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    // for more robustness, always consider the segment in the same order\n    const flip = c0 < c1;\n    if (flip) [x0, y0, x1, y1, c0, c1] = [x1, y1, x0, y0, c1, c0];\n    while (true) {\n      if (c0 === 0 && c1 === 0) return flip ? [x1, y1, x0, y0] : [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x,\n        y,\n        c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points),\n      p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101:\n          e0 = 0b0100;\n          continue;\n        // top-left\n        case 0b0100:\n          e0 = 0b0110, x = this.xmax, y = this.ymin;\n          break;\n        // top\n        case 0b0110:\n          e0 = 0b0010;\n          continue;\n        // top-right\n        case 0b0010:\n          e0 = 0b1010, x = this.xmax, y = this.ymax;\n          break;\n        // right\n        case 0b1010:\n          e0 = 0b1000;\n          continue;\n        // bottom-right\n        case 0b1000:\n          e0 = 0b1001, x = this.xmin, y = this.ymax;\n          break;\n        // bottom\n        case 0b1001:\n          e0 = 0b0001;\n          continue;\n        // bottom-left\n        case 0b0001:\n          e0 = 0b0101, x = this.xmin, y = this.ymin;\n          break;\n        // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity,\n      c,\n      x,\n      y;\n    if (vy < 0) {\n      // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) {\n      // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) {\n      // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) {\n      // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001 : x === this.xmax ? 0b0010 : 0b0000) | (y === this.ymin ? 0b0100 : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001 : x > this.xmax ? 0b0010 : 0b0000) | (y < this.ymin ? 0b0100 : y > this.ymax ? 0b1000 : 0b0000);\n  }\n  _simplify(P) {\n    if (P && P.length > 4) {\n      for (let i = 0; i < P.length; i += 2) {\n        const j = (i + 2) % P.length,\n          k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) {\n          P.splice(j, 2), i -= 2;\n        }\n      }\n      if (!P.length) P = null;\n    }\n    return P;\n  }\n}","map":{"version":3,"names":["Path","Polygon","Voronoi","constructor","delaunay","xmin","ymin","xmax","ymax","arguments","length","undefined","Error","_circumcenters","Float64Array","points","vectors","_init","update","hull","triangles","bx","by","circumcenters","subarray","i","j","n","x","y","t1","t2","t3","x1","y1","x2","y2","x3","y3","dx","dy","ex","ey","ab","Math","abs","a","sign","d","bl","cl","h","p0","p1","x0","y0","fill","render","context","buffer","halfedges","inedges","ti","floor","tj","xi","yi","xj","yj","_renderSegment","h0","h1","t","v","p","_project","value","renderBounds","rect","renderCell","_clip","moveTo","lineTo","closePath","cellPolygons","cell","cellPolygon","index","polygon","S","c0","_regioncode","c1","_clipSegment","contains","_step","neighbors","ci","cj","loop","ai","li","aj","lj","_cell","e0","e","push","V","_simplify","_clipInfinite","_clipFinite","P","e1","sx0","sy0","sx1","sy1","_edgecode","_edge","flip","c","vx0","vy0","vxn","vyn","Array","from","unshift","splice","vx","vy","Infinity","k"],"sources":["D:/python/rasa_project_for_windows/rasa_project_front/node_modules/d3-delaunay/src/voronoi.js"],"sourcesContent":["import Path from \"./path.js\";\nimport Polygon from \"./polygon.js\";\n\nexport default class Voronoi {\n  constructor(delaunay, [xmin, ymin, xmax, ymax] = [0, 0, 960, 500]) {\n    if (!((xmax = +xmax) >= (xmin = +xmin)) || !((ymax = +ymax) >= (ymin = +ymin))) throw new Error(\"invalid bounds\");\n    this.delaunay = delaunay;\n    this._circumcenters = new Float64Array(delaunay.points.length * 2);\n    this.vectors = new Float64Array(delaunay.points.length * 2);\n    this.xmax = xmax, this.xmin = xmin;\n    this.ymax = ymax, this.ymin = ymin;\n    this._init();\n  }\n  update() {\n    this.delaunay.update();\n    this._init();\n    return this;\n  }\n  _init() {\n    const {delaunay: {points, hull, triangles}, vectors} = this;\n    let bx, by; // lazily computed barycenter of the hull\n\n    // Compute circumcenters.\n    const circumcenters = this.circumcenters = this._circumcenters.subarray(0, triangles.length / 3 * 2);\n    for (let i = 0, j = 0, n = triangles.length, x, y; i < n; i += 3, j += 2) {\n      const t1 = triangles[i] * 2;\n      const t2 = triangles[i + 1] * 2;\n      const t3 = triangles[i + 2] * 2;\n      const x1 = points[t1];\n      const y1 = points[t1 + 1];\n      const x2 = points[t2];\n      const y2 = points[t2 + 1];\n      const x3 = points[t3];\n      const y3 = points[t3 + 1];\n\n      const dx = x2 - x1;\n      const dy = y2 - y1;\n      const ex = x3 - x1;\n      const ey = y3 - y1;\n      const ab = (dx * ey - dy * ex) * 2;\n\n      if (Math.abs(ab) < 1e-9) {\n        // For a degenerate triangle, the circumcenter is at the infinity, in a\n        // direction orthogonal to the halfedge and away from the “center” of\n        // the diagram <bx, by>, defined as the hull’s barycenter.\n        if (bx === undefined) {\n          bx = by = 0;\n          for (const i of hull) bx += points[i * 2], by += points[i * 2 + 1];\n          bx /= hull.length, by /= hull.length;\n        }\n        const a = 1e9 * Math.sign((bx - x1) * ey - (by - y1) * ex);\n        x = (x1 + x3) / 2 - a * ey;\n        y = (y1 + y3) / 2 + a * ex;\n      } else {\n        const d = 1 / ab;\n        const bl = dx * dx + dy * dy;\n        const cl = ex * ex + ey * ey;\n        x = x1 + (ey * bl - dy * cl) * d;\n        y = y1 + (dx * cl - ex * bl) * d;\n      }\n      circumcenters[j] = x;\n      circumcenters[j + 1] = y;\n    }\n\n    // Compute exterior cell rays.\n    let h = hull[hull.length - 1];\n    let p0, p1 = h * 4;\n    let x0, x1 = points[2 * h];\n    let y0, y1 = points[2 * h + 1];\n    vectors.fill(0);\n    for (let i = 0; i < hull.length; ++i) {\n      h = hull[i];\n      p0 = p1, x0 = x1, y0 = y1;\n      p1 = h * 4, x1 = points[2 * h], y1 = points[2 * h + 1];\n      vectors[p0 + 2] = vectors[p1] = y0 - y1;\n      vectors[p0 + 3] = vectors[p1 + 1] = x1 - x0;\n    }\n  }\n  render(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const {delaunay: {halfedges, inedges, hull}, circumcenters, vectors} = this;\n    if (hull.length <= 1) return null;\n    for (let i = 0, n = halfedges.length; i < n; ++i) {\n      const j = halfedges[i];\n      if (j < i) continue;\n      const ti = Math.floor(i / 3) * 2;\n      const tj = Math.floor(j / 3) * 2;\n      const xi = circumcenters[ti];\n      const yi = circumcenters[ti + 1];\n      const xj = circumcenters[tj];\n      const yj = circumcenters[tj + 1];\n      this._renderSegment(xi, yi, xj, yj, context);\n    }\n    let h0, h1 = hull[hull.length - 1];\n    for (let i = 0; i < hull.length; ++i) {\n      h0 = h1, h1 = hull[i];\n      const t = Math.floor(inedges[h1] / 3) * 2;\n      const x = circumcenters[t];\n      const y = circumcenters[t + 1];\n      const v = h0 * 4;\n      const p = this._project(x, y, vectors[v + 2], vectors[v + 3]);\n      if (p) this._renderSegment(x, y, p[0], p[1], context);\n    }\n    return buffer && buffer.value();\n  }\n  renderBounds(context) {\n    const buffer = context == null ? context = new Path : undefined;\n    context.rect(this.xmin, this.ymin, this.xmax - this.xmin, this.ymax - this.ymin);\n    return buffer && buffer.value();\n  }\n  renderCell(i, context) {\n    const buffer = context == null ? context = new Path : undefined;\n    const points = this._clip(i);\n    if (points === null || !points.length) return;\n    context.moveTo(points[0], points[1]);\n    let n = points.length;\n    while (points[0] === points[n-2] && points[1] === points[n-1] && n > 1) n -= 2;\n    for (let i = 2; i < n; i += 2) {\n      if (points[i] !== points[i-2] || points[i+1] !== points[i-1])\n        context.lineTo(points[i], points[i + 1]);\n    }\n    context.closePath();\n    return buffer && buffer.value();\n  }\n  *cellPolygons() {\n    const {delaunay: {points}} = this;\n    for (let i = 0, n = points.length / 2; i < n; ++i) {\n      const cell = this.cellPolygon(i);\n      if (cell) cell.index = i, yield cell;\n    }\n  }\n  cellPolygon(i) {\n    const polygon = new Polygon;\n    this.renderCell(i, polygon);\n    return polygon.value();\n  }\n  _renderSegment(x0, y0, x1, y1, context) {\n    let S;\n    const c0 = this._regioncode(x0, y0);\n    const c1 = this._regioncode(x1, y1);\n    if (c0 === 0 && c1 === 0) {\n      context.moveTo(x0, y0);\n      context.lineTo(x1, y1);\n    } else if (S = this._clipSegment(x0, y0, x1, y1, c0, c1)) {\n      context.moveTo(S[0], S[1]);\n      context.lineTo(S[2], S[3]);\n    }\n  }\n  contains(i, x, y) {\n    if ((x = +x, x !== x) || (y = +y, y !== y)) return false;\n    return this.delaunay._step(i, x, y) === i;\n  }\n  *neighbors(i) {\n    const ci = this._clip(i);\n    if (ci) for (const j of this.delaunay.neighbors(i)) {\n      const cj = this._clip(j);\n      // find the common edge\n      if (cj) loop: for (let ai = 0, li = ci.length; ai < li; ai += 2) {\n        for (let aj = 0, lj = cj.length; aj < lj; aj += 2) {\n          if (ci[ai] === cj[aj]\n              && ci[ai + 1] === cj[aj + 1]\n              && ci[(ai + 2) % li] === cj[(aj + lj - 2) % lj]\n              && ci[(ai + 3) % li] === cj[(aj + lj - 1) % lj]) {\n            yield j;\n            break loop;\n          }\n        }\n      }\n    }\n  }\n  _cell(i) {\n    const {circumcenters, delaunay: {inedges, halfedges, triangles}} = this;\n    const e0 = inedges[i];\n    if (e0 === -1) return null; // coincident point\n    const points = [];\n    let e = e0;\n    do {\n      const t = Math.floor(e / 3);\n      points.push(circumcenters[t * 2], circumcenters[t * 2 + 1]);\n      e = e % 3 === 2 ? e - 2 : e + 1;\n      if (triangles[e] !== i) break; // bad triangulation\n      e = halfedges[e];\n    } while (e !== e0 && e !== -1);\n    return points;\n  }\n  _clip(i) {\n    // degenerate case (1 valid point: return the box)\n    if (i === 0 && this.delaunay.hull.length === 1) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    const points = this._cell(i);\n    if (points === null) return null;\n    const {vectors: V} = this;\n    const v = i * 4;\n    return this._simplify(V[v] || V[v + 1]\n        ? this._clipInfinite(i, points, V[v], V[v + 1], V[v + 2], V[v + 3])\n        : this._clipFinite(i, points));\n  }\n  _clipFinite(i, points) {\n    const n = points.length;\n    let P = null;\n    let x0, y0, x1 = points[n - 2], y1 = points[n - 1];\n    let c0, c1 = this._regioncode(x1, y1);\n    let e0, e1 = 0;\n    for (let j = 0; j < n; j += 2) {\n      x0 = x1, y0 = y1, x1 = points[j], y1 = points[j + 1];\n      c0 = c1, c1 = this._regioncode(x1, y1);\n      if (c0 === 0 && c1 === 0) {\n        e0 = e1, e1 = 0;\n        if (P) P.push(x1, y1);\n        else P = [x1, y1];\n      } else {\n        let S, sx0, sy0, sx1, sy1;\n        if (c0 === 0) {\n          if ((S = this._clipSegment(x0, y0, x1, y1, c0, c1)) === null) continue;\n          [sx0, sy0, sx1, sy1] = S;\n        } else {\n          if ((S = this._clipSegment(x1, y1, x0, y0, c1, c0)) === null) continue;\n          [sx1, sy1, sx0, sy0] = S;\n          e0 = e1, e1 = this._edgecode(sx0, sy0);\n          if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n          if (P) P.push(sx0, sy0);\n          else P = [sx0, sy0];\n        }\n        e0 = e1, e1 = this._edgecode(sx1, sy1);\n        if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n        if (P) P.push(sx1, sy1);\n        else P = [sx1, sy1];\n      }\n    }\n    if (P) {\n      e0 = e1, e1 = this._edgecode(P[0], P[1]);\n      if (e0 && e1) this._edge(i, e0, e1, P, P.length);\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      return [this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax, this.xmin, this.ymin];\n    }\n    return P;\n  }\n  _clipSegment(x0, y0, x1, y1, c0, c1) {\n    // for more robustness, always consider the segment in the same order\n    const flip = c0 < c1;\n    if (flip) [x0, y0, x1, y1, c0, c1] = [x1, y1, x0, y0, c1, c0];\n    while (true) {\n      if (c0 === 0 && c1 === 0) return flip ? [x1, y1, x0, y0] : [x0, y0, x1, y1];\n      if (c0 & c1) return null;\n      let x, y, c = c0 || c1;\n      if (c & 0b1000) x = x0 + (x1 - x0) * (this.ymax - y0) / (y1 - y0), y = this.ymax;\n      else if (c & 0b0100) x = x0 + (x1 - x0) * (this.ymin - y0) / (y1 - y0), y = this.ymin;\n      else if (c & 0b0010) y = y0 + (y1 - y0) * (this.xmax - x0) / (x1 - x0), x = this.xmax;\n      else y = y0 + (y1 - y0) * (this.xmin - x0) / (x1 - x0), x = this.xmin;\n      if (c0) x0 = x, y0 = y, c0 = this._regioncode(x0, y0);\n      else x1 = x, y1 = y, c1 = this._regioncode(x1, y1);\n    }\n  }\n  _clipInfinite(i, points, vx0, vy0, vxn, vyn) {\n    let P = Array.from(points), p;\n    if (p = this._project(P[0], P[1], vx0, vy0)) P.unshift(p[0], p[1]);\n    if (p = this._project(P[P.length - 2], P[P.length - 1], vxn, vyn)) P.push(p[0], p[1]);\n    if (P = this._clipFinite(i, P)) {\n      for (let j = 0, n = P.length, c0, c1 = this._edgecode(P[n - 2], P[n - 1]); j < n; j += 2) {\n        c0 = c1, c1 = this._edgecode(P[j], P[j + 1]);\n        if (c0 && c1) j = this._edge(i, c0, c1, P, j), n = P.length;\n      }\n    } else if (this.contains(i, (this.xmin + this.xmax) / 2, (this.ymin + this.ymax) / 2)) {\n      P = [this.xmin, this.ymin, this.xmax, this.ymin, this.xmax, this.ymax, this.xmin, this.ymax];\n    }\n    return P;\n  }\n  _edge(i, e0, e1, P, j) {\n    while (e0 !== e1) {\n      let x, y;\n      switch (e0) {\n        case 0b0101: e0 = 0b0100; continue; // top-left\n        case 0b0100: e0 = 0b0110, x = this.xmax, y = this.ymin; break; // top\n        case 0b0110: e0 = 0b0010; continue; // top-right\n        case 0b0010: e0 = 0b1010, x = this.xmax, y = this.ymax; break; // right\n        case 0b1010: e0 = 0b1000; continue; // bottom-right\n        case 0b1000: e0 = 0b1001, x = this.xmin, y = this.ymax; break; // bottom\n        case 0b1001: e0 = 0b0001; continue; // bottom-left\n        case 0b0001: e0 = 0b0101, x = this.xmin, y = this.ymin; break; // left\n      }\n      // Note: this implicitly checks for out of bounds: if P[j] or P[j+1] are\n      // undefined, the conditional statement will be executed.\n      if ((P[j] !== x || P[j + 1] !== y) && this.contains(i, x, y)) {\n        P.splice(j, 0, x, y), j += 2;\n      }\n    }\n    return j;\n  }\n  _project(x0, y0, vx, vy) {\n    let t = Infinity, c, x, y;\n    if (vy < 0) { // top\n      if (y0 <= this.ymin) return null;\n      if ((c = (this.ymin - y0) / vy) < t) y = this.ymin, x = x0 + (t = c) * vx;\n    } else if (vy > 0) { // bottom\n      if (y0 >= this.ymax) return null;\n      if ((c = (this.ymax - y0) / vy) < t) y = this.ymax, x = x0 + (t = c) * vx;\n    }\n    if (vx > 0) { // right\n      if (x0 >= this.xmax) return null;\n      if ((c = (this.xmax - x0) / vx) < t) x = this.xmax, y = y0 + (t = c) * vy;\n    } else if (vx < 0) { // left\n      if (x0 <= this.xmin) return null;\n      if ((c = (this.xmin - x0) / vx) < t) x = this.xmin, y = y0 + (t = c) * vy;\n    }\n    return [x, y];\n  }\n  _edgecode(x, y) {\n    return (x === this.xmin ? 0b0001\n        : x === this.xmax ? 0b0010 : 0b0000)\n        | (y === this.ymin ? 0b0100\n        : y === this.ymax ? 0b1000 : 0b0000);\n  }\n  _regioncode(x, y) {\n    return (x < this.xmin ? 0b0001\n        : x > this.xmax ? 0b0010 : 0b0000)\n        | (y < this.ymin ? 0b0100\n        : y > this.ymax ? 0b1000 : 0b0000);\n  }\n  _simplify(P) {\n    if (P && P.length > 4) {\n      for (let i = 0; i < P.length; i+= 2) {\n        const j = (i + 2) % P.length, k = (i + 4) % P.length;\n        if (P[i] === P[j] && P[j] === P[k] || P[i + 1] === P[j + 1] && P[j + 1] === P[k + 1]) {\n          P.splice(j, 2), i -= 2;\n        }\n      }\n      if (!P.length) P = null;\n    }\n    return P;\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}