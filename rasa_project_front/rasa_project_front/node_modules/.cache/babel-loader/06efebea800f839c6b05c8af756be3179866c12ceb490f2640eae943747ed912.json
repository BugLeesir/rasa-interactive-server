{"ast":null,"code":"import compose from \"./compose.js\";\nimport { abs, asin, atan2, cos, degrees, pi, radians, sin, tau } from \"./math.js\";\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\nrotationIdentity.invert = rotationIdentity;\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma)) : rotationLambda(deltaLambda) : deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma) : rotationIdentity;\n}\nfunction forwardRotationLambda(deltaLambda) {\n  return function (lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n    sinDeltaPhi = sin(deltaPhi),\n    cosDeltaGamma = cos(deltaGamma),\n    sinDeltaGamma = sin(deltaGamma);\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n      x = cos(lambda) * cosPhi,\n      y = sin(lambda) * cosPhi,\n      z = sin(phi),\n      k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi), asin(k * cosDeltaGamma + y * sinDeltaGamma)];\n  }\n  rotation.invert = function (lambda, phi) {\n    var cosPhi = cos(phi),\n      x = cos(lambda) * cosPhi,\n      y = sin(lambda) * cosPhi,\n      z = sin(phi),\n      k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi), asin(k * cosDeltaPhi - x * sinDeltaPhi)];\n  };\n  return rotation;\n}\nexport default function (rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n  forward.invert = function (coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n  return forward;\n}","map":{"version":3,"names":["compose","abs","asin","atan2","cos","degrees","pi","radians","sin","tau","rotationIdentity","lambda","phi","Math","round","invert","rotateRadians","deltaLambda","deltaPhi","deltaGamma","rotationLambda","rotationPhiGamma","forwardRotationLambda","rotation","cosDeltaPhi","sinDeltaPhi","cosDeltaGamma","sinDeltaGamma","cosPhi","x","y","z","k","rotate","length","forward","coordinates"],"sources":["D:/python/rasa_project_for_windows/rasa_project_front/node_modules/d3-geo/src/rotation.js"],"sourcesContent":["import compose from \"./compose.js\";\nimport {abs, asin, atan2, cos, degrees, pi, radians, sin, tau} from \"./math.js\";\n\nfunction rotationIdentity(lambda, phi) {\n  if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n  return [lambda, phi];\n}\n\nrotationIdentity.invert = rotationIdentity;\n\nexport function rotateRadians(deltaLambda, deltaPhi, deltaGamma) {\n  return (deltaLambda %= tau) ? (deltaPhi || deltaGamma ? compose(rotationLambda(deltaLambda), rotationPhiGamma(deltaPhi, deltaGamma))\n    : rotationLambda(deltaLambda))\n    : (deltaPhi || deltaGamma ? rotationPhiGamma(deltaPhi, deltaGamma)\n    : rotationIdentity);\n}\n\nfunction forwardRotationLambda(deltaLambda) {\n  return function(lambda, phi) {\n    lambda += deltaLambda;\n    if (abs(lambda) > pi) lambda -= Math.round(lambda / tau) * tau;\n    return [lambda, phi];\n  };\n}\n\nfunction rotationLambda(deltaLambda) {\n  var rotation = forwardRotationLambda(deltaLambda);\n  rotation.invert = forwardRotationLambda(-deltaLambda);\n  return rotation;\n}\n\nfunction rotationPhiGamma(deltaPhi, deltaGamma) {\n  var cosDeltaPhi = cos(deltaPhi),\n      sinDeltaPhi = sin(deltaPhi),\n      cosDeltaGamma = cos(deltaGamma),\n      sinDeltaGamma = sin(deltaGamma);\n\n  function rotation(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaPhi + x * sinDeltaPhi;\n    return [\n      atan2(y * cosDeltaGamma - k * sinDeltaGamma, x * cosDeltaPhi - z * sinDeltaPhi),\n      asin(k * cosDeltaGamma + y * sinDeltaGamma)\n    ];\n  }\n\n  rotation.invert = function(lambda, phi) {\n    var cosPhi = cos(phi),\n        x = cos(lambda) * cosPhi,\n        y = sin(lambda) * cosPhi,\n        z = sin(phi),\n        k = z * cosDeltaGamma - y * sinDeltaGamma;\n    return [\n      atan2(y * cosDeltaGamma + z * sinDeltaGamma, x * cosDeltaPhi + k * sinDeltaPhi),\n      asin(k * cosDeltaPhi - x * sinDeltaPhi)\n    ];\n  };\n\n  return rotation;\n}\n\nexport default function(rotate) {\n  rotate = rotateRadians(rotate[0] * radians, rotate[1] * radians, rotate.length > 2 ? rotate[2] * radians : 0);\n\n  function forward(coordinates) {\n    coordinates = rotate(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  }\n\n  forward.invert = function(coordinates) {\n    coordinates = rotate.invert(coordinates[0] * radians, coordinates[1] * radians);\n    return coordinates[0] *= degrees, coordinates[1] *= degrees, coordinates;\n  };\n\n  return forward;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}